{{define "title"}}Snippet #{{end}}

{{define "main"}}
<div class='snippet'>
    <div class='metadata'>
        <strong class="postTitle">{{.Post.Title}}</strong>
        <div class="namedate">
        <pre class="post-card-Username">By {{.Post.UserName}} on </pre>
        <span class="post-card-Date"><time datetime=""></time>{{humanDate .Post.Created }}</span>
    </div>
    </div>
    <div class="snippetText"><code>{{.Post.Content}}</code></div>
    <div class='post-footer'>
        <div class="postCategory">
            {{range $category := .Post.Categories}}
            <div class="categoryFooter">{{$category}}</div>
            {{end}}
        </div>
        <form action="/post/reaction" method="POST">
            <input type="hidden" name="postID" value="{{.Post.PostID}}">
            <input type="hidden" name="url" value="/post/{{.Post.PostID}}">
            <div class="postReaction">
                <div class="reactionContainer">
                    <button type="submit" class="reactionButton" name="reaction" value="true">
                        <img src="/static/img/like.png" class="reactionImg">
                        <p class="reaction">{{.Post.Like}}</p>
                    </button>
                </div>
                <div class="reactionContainer">
                    <button type="submit" class="reactionButton" name="reaction" value="false">
                        <img src="/static/img/dislike.png" class="reactionImg">
                        <p class="reaction">{{.Post.Dislike}}</p>
                    </button>
                </div>
            </div>   
        </form>
    </div>
</div>
<div class="new-comment">

    <form action="/comment/post" method="POST" class="comment-form">
        {{with .Form.FieldErrors.comment}}
        <label class="error">{{.}}</label>
        {{end}}
        <input type="text" name="comment" placeholder="Noone wants your comment" class="newcominput">
        <input type="submit" value="Comment" class="comment-submit">
        <input type="hidden" name="postID" value="{{.Post.PostID}}">
    </form>
</div>
    {{with .Post.Comment}}
    <h2 class="commenth2">Comments</h2>
<div class="comment-container">
    {{range .}}
    <div class="comment">
        <div class="comment-left">
            <div class="comment-metadata">
                <pre class="post-card-Username">By {{.UserName}} on </pre>
                <span>{{humanDate .Created}}</span>
            </div>
            <div class="comment-body">
                <code>{{.Content}}</code>
            </div>
        </div>
        <form action="/comment/reaction" method="POST" class="reactionForm">
            <input type="hidden" name="commentID" value="{{.CommentID}}">
            <input type="hidden" name="postID" value="{{.PostID}}">
            <!-- here comment id -->
            <div class="postReaction">
                <div class="reactionContainer">
                    <button class="reactionButton" type="submit" name="reaction" value="true">
                        <img src="/static/img/like.png" class="reactionImg">
                        <p class="reaction">{{.Like}}</p>
                    </button>
                </div>
                <div class="reactionContainer">
                    <button class="reactionButton" type="submit" name="reaction" value="false">
                        <img src="/static/img/dislike.png" class="reactionImg">
                        <p class="reaction">{{.Dislike}}</p>
                    </button>
                </div>
            </div>
        </form>   
    </div>
    {{end}}
</div>
{{end}}

{{end}}

<!-- <input type="hidden" name="commentID" value="{{.Comment.CommentID}}"> -->